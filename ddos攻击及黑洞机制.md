---
title: ddos攻击及黑洞机制
date: 2018-12-24 00:00:42
password: passw0rd
tags:
---


**高防服务器**都是针对IP来进行防御和管理。
**高防IP**是指高防机房所提供的IP段，主要是针对网络中的DDoS攻击进行保护。
未接入高防ip，浏览器会直接访问源站（网站服务器）; 要是有攻击的话，也会直接攻击网站服务器。在租用服务器后，服务商会提供一个高防IP给用户，我们可以把域名解析到高防IP（或对应的cname）。如果该ip出现流量异常，高防机房中的硬件防火墙等会对流量进行智能识别，对恶意流量进行过滤。访问经过高防ip过滤，然后再由高防IP转发到你的真实IP（源站）。这个过程会把攻击流量引流到高防IP，不会暴露网站源IP，从而确保了源站的稳定可靠。但如果攻击流量过大，超过高防IP的承受范围时，为了保护机房的安全性，会暂时对该IP进行屏蔽。这时可能会造成网络不能正常访问。

**DDOS攻击分为流量攻击和CC攻击。**两者针对的对象不同；流量攻击主要打的是网站的服务器，也就是攻击IP; CC攻击主要针对的网站的网页，服务器什么都可以连接，ping也没问题，但是网页就是访问不了。
CC攻击相对来说危害不是毁灭性的，但是持续时间长（原理是攻击者通过代理服务器或者大量肉鸡模拟多个用户访问目标网站的动态页面，制造大量的后台数据库查询动作，消耗目标CPU资源，造成服务器资源耗尽。）。CC攻击本身就是正常的请求。
DDOS攻击就是流量攻击，这种攻击的危害性较大，通过向目标服务器发送大量数据包，海量无效请求，耗尽其带宽。
**高防黑洞机制：**服务器受到攻击时的一种防护策略。
阿里云服务器黑洞是指服务器受攻击流量超过本机房黑洞阈值时，阿里云会自动屏蔽服务器的外网访问（ip被黑洞）。当服务器进入黑洞一段时间后，如果系统监控到攻击流量已经停止，黑洞就会自动解封。
当用户的服务器受到DDoS 攻击时，机房会分别分摊攻击流量，一旦攻击影响到某个机房的业务流量了，就会进行黑洞来保证机房的稳定性。因为大的DDos攻击不仅会影响用户的服务器，同时也会对整个云网络造成非常严重影响。


CC攻击：消耗服务器的内存，cpu资源
DDoS攻击：消耗服务器的带宽